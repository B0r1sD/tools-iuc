<macros>
    <token name="@TOOL_VERSION@">1.4.0</token>
    <xml name="creator">
        <creator>
            <person
                givenName="Kristina"
                familyName="Gomoryova"
                url="https://github.com/KristinaGomoryova"
                identifier="0000-0003-4407-3917" />
            <person
                givenName="Helge"
                familyName="Hecht"
                url="https://github.com/hechth"
                identifier="0000-0001-6744-996X" />
            <organization
                url="https://www.recetox.muni.cz/"
                email="GalaxyToolsDevelopmentandDeployment@space.muni.cz"
                name="RECETOX MUNI" />
        </creator>
    </xml>

    <xml name="data_input">
        <param name="input_data" type="data" format="csv,tsv,txt,tabular,parquet" label="Input table" help= "Input file in a tabular/tsv/csv/parquet format"/>
    </xml>

    <xml name="upsetplot_param">
        <expand macro="data_input"/>
        <param type="select" name="sort_by" display="radio" label="Sort the bars based on frequency, degree or both?" help="Whether to sort the bars in UpSet plot based on frequency (largest frequency first), or degree (largest overlap first)">
                    <option value="freq" selected="true">frequency</option> 
                    <option value="degree">degree</option>
        </param>
        <param label="Number of intersections to plot" optional="true" name="nintersects" type="integer" value="0" help="Number of intersections to plot. If value set to 0, all intersections will be plotted."/>  
        <param name="group_by_sets" type="boolean" checked="false" truevalue="TRUE" falsevalue="FALSE" label="Group bars by sets?" help="Whether group bars for each set (based on their set size)."/>   
        <param name="empty_intersections" type="boolean" checked="false" truevalue="TRUE" falsevalue="FALSE" label="Include empty intersections?" help="Whether to plot also empty intersections to the limit of number of intersections. Otherwise, empty intersections are by default omitted."/>   
        <expand macro="export_data"/>
    </xml>

    <xml name="export_data">
        <param name="export_R_script" type="boolean" checked="false" truevalue="TRUE" falsevalue="FALSE" label="Export the R script to reproduce the analysis"
        help="Check this box to export the script executed in the Galaxy tool as an R file to be able to reproduce the same processing offline. Not that in this case, the file paths need to be altered and all the dependencies have to be managed manually."/>
    </xml>

    <xml name="citations_upset">
        <citations>
            <citation type="doi">https://doi.org/10.1093/bioinformatics/btx364</citation>
        </citations>     
    </xml>
</macros>
