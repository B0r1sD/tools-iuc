<macros>
	<token name="@TOOL_VERSION@">1.7.0</token>
	<token name="@VERSION_SUFFIX@">0</token>
	<xml name="citations">
		<citations>
			<citation type="doi">10.1186/S13059-019-1911-0</citation>
		</citations>
	</xml>
	<xml name="requirements">
		<requirements>
			<requirement type="package" version="@TOOL_VERSION@">syri</requirement> 
		</requirements>
	</xml>
	<xml name="help">
<help><![CDATA[
Notes:
------

- The **Map IDs file** lists corresponding chromosomes between the reference and query genomes.
- This file is **only generated** when the chromosome names **differ** between the two genomes.
- If the chromosome names are identical, the file will be **absent or empty** â€” this is expected and not an error.

- When using **minimap2** to generate alignments for SyRI, the **minimum required Galaxy wrapper version is `2.28+galaxy1`**.
- This version correctly adds the `--eqx` flag, which is **required** by SyRI to interpret alignment CIGAR strings properly.

Usage:
------

usage: syri [-h] -c INFILE [-r REF] [-q QRY] [-d DELTA] [-F {T,S,B,P}] [-f]
            [-k] [--dir DIR] [--prefix PREFIX] [--seed SEED] [--nc NCORES]
            [--novcf] [--samplename SNAME] [--nosr] [--invgaplen INVGL]
            [--tdgaplen TDGL] [--tdmaxolp TDOLP] [-b BRUTERUNTIME]
            [--unic TRANSUNICOUNT] [--unip TRANSUNIPERCENT] [--inc INCREASEBY]
            [--no-chrmatch] [--nosv] [--nosnp] [--all] [--allow-offset OFFSET]
            [--cigar] [-s SSPATH] [--hdrseq] [--maxsize MAXS]
            [--log {DEBUG,INFO,WARN}] [--lf LOG_FIN] [--version]

Input Files:
------------

- **-c INFILE**  
  File containing alignment coordinates. *(default: None)*

- **-r REF**  
  Genome A (considered the reference genome for alignments). Required for local variation identification (large indels, CNVs). *(default: None)*

- **-q QRY**  
  Genome B (considered the query genome for alignments). Required for local variation identification (large indels, CNVs). *(default: None)*

- **-d DELTA**  
  `.delta` file from mummer. Required for short variation (SNPs/indels) identification when CIGAR string is unavailable. *(default: None)*

Additional Arguments:
---------------------

- **-F {T,S,B,P}**  
  Input file type:  
  `T` = Table, `S` = SAM, `B` = BAM, `P` = PAF *(default: T)*

- **-f**  
  Use the full list of alignments without filtering. *(default: True)*

- **-k**  
  Keep intermediate output files. *(default: False)*

- **--dir DIR**  
  Path to the working directory. All files must be in this directory. *(default: None)*

- **--prefix PREFIX**  
  Prefix for output file names. *(default: '')*

- **--seed SEED**  
  Seed for random number generation. *(default: 1)*

- **--nc NCORES**  
  Number of cores to use in parallel. *(default: 1)*

- **--novcf**  
  Do not combine all files into one output file. *(default: False)*

- **--samplename SNAME**  
  Sample name for the output VCF file. *(default: sample)*

SR Identification:
-------------------

- **--nosr**  
  Skip structural rearrangement identification. *(default: False)*

- **--invgaplen INVGL**  
  Maximum allowed gap-length between two alignments of a multi-alignment inversion. *(default: 1,000,000,000)*

- **--tdgaplen TDGL**  
  Maximum allowed gap-length between two alignments of a multi-alignment translocation or duplication. *(default: 500,000)*

- **--tdmaxolp TDOLP**  
  Maximum allowed overlap between two translocations. Value should be in range (0,1]. *(default: 0.8)*

- **-b BRUTERUNTIME**  
  Cutoff to restrict brute force methods from running too long (in seconds). *(default: 60)*

- **--unic TRANSUNICOUNT**  
  Number of unique base pairs for selecting translocations. *(default: 1,000)*

- **--unip TRANSUNIPERCENT**  
  Percent of unique region required to select translocation. *(default: 0.5)*

- **--inc INCREASEBY**  
  Minimum score increase required to add another alignment to a translocation cluster solution. *(default: 1,000)*

- **--no-chrmatch**  
  Prevent automatic matching of chromosome IDs between genomes. *(default: False)*

ShV Identification:
--------------------

- **--nosv**  
  Skip structural variation identification. *(default: False)*

- **--nosnp**  
  Skip SNP/Indel identification within alignments. *(default: False)*

- **--all**  
  Include duplications for variant identification. *(default: False)*

- **--allow-offset OFFSET**  
  Number of base pairs allowed to overlap. *(default: 5)*

- **--cigar**  
  Identify SNPs/indels using the CIGAR string. *(default: False)*

- **-s SSPATH**  
  Path to the `show-snps` tool from mummer. *(default: show-snps)*

- **--hdrseq**  
  Output highly-diverged regions (HDRs) sequences. *(default: False)*

- **--maxsize MAXS**  
  Maximum size for printing sequences of large structural variants. Larger variants will be printed as symbolic SVs. *(default: -1)*

Options:
--------

- **-h, --help**  
  Show this help message and exit.

- **--log {DEBUG,INFO,WARN}**  
  Set the log level. *(default: INFO)*

- **--lf LOG_FIN**  
  Name of the log file. *(default: syri.log)*

- **--version**  
  Display the program's version number and exit.

Example Usage:
--------------

.. code-block:: bash

   syri -c aln.bam -r ref.fasta -q qry.fasta -F B
	]]></help>

	</xml>
</macros>
