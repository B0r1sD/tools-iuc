<tool id="maplot" name="maplot" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="20.01" license="MIT">
    <description></description>
    <macros>
        <token name="@TOOL_VERSION@">6.0.0</token>
        <token name="@VERSION_SUFFIX@">0</token>
    </macros>
    <edam_topics>
        <edam_topic>topic_0092</edam_topic>
    </edam_topics>
    <edam_operations>
        <edam_operation>operation_0337</edam_operation>
    </edam_operations>
    <xrefs>
        <xref type="bio.tools"></xref>
    </xrefs>
    <requirements>
        <requirement type="package" version="@TOOL_VERSION@">plotly</requirement>
        <requirement type="package" version="1.13.1">scipy</requirement>
        <requirement type="package" version="2.2.3">pandas</requirement>
        <requirement type="package" version="0.14.4">statsmodels</requirement>
        <requirement type="package" version="3.9.4">matplotlib-base</requirement>
    </requirements>
    <creator>
        <person
            givenName="Helge"
            familyName="Hecht"
            url="https://github.com/hechth"
            identifier="0000-0001-6744-996X" />
        <organization
            url="https://www.recetox.muni.cz/"
            email="GalaxyToolsDevelopmentandDeployment@space.muni.cz"
            name="RECETOX MUNI" />
    </creator>
    <command detect_errors="exit_code"><![CDATA[
    python3 "$__tool_directory__/maplot.py"
        --file_path '$file_path'
        --file_extension '$file_path.ext'
        --frac $frac
        --it $it
        --num_bins $num_bins
        --window_width $window_width
        --size $size
        --scale $scale
        --y_scale_factor $y_scale_factor
        --max_num_cols $max_num_cols
        $interactive
        --output_format $output_format
        --output_file $output_file
    ]]></command>

    <inputs>
        <param argument="--file_path" type="data" label="file" format="csv,tsv,tabular,txt,parquet" help="Path to the input CSV file"/>
        <param argument="--frac" type="float" value="0.8" label="frac" help="LOESS smoothing parameter"/>
        <param argument="--it" type="integer" value="5" label="it" help="Number of iterations for LOESS smoothing"/>
        <param argument="--num_bins" type="integer" value="100" label="num_bins" help="Number of bins for histogram"/>
        <param argument="--window_width" type="integer" value="5" label="window_width" help="Window width for moving average"/>
        <param argument="--size" type="integer" value="500" label="size" help="Size of the plot"/>
        <param argument="--scale" type="integer" value="3" label="scale" help="Scale factor for the plot"/>
        <param argument="--y_scale_factor" type="float" value="1.1" label="y_scale_factor" help="Y-axis scale factor"/>
        <param argument="--max_num_cols" type="integer" value="100" label="max_num_cols" help="Maximum number of columns in the plot"/>
        <param argument="--interactive" type="boolean" truevalue="--interactive" falsevalue="" checked="false" label="interactive" help="Generate interactive plot using Plotly"/>
        <param argument="--output_format" type="select" label="output_format" help="Output format for the plot">
            <option value="pdf" selected="true">pdf</option>
            <option value="png">png</option>
            <option value="html">html</option>
        </param>
    </inputs>
    <outputs>
        <data name="output_file" format="pdf" label="maplot on ${on_string}">
            <change_format>
                <when input="output_format" value="png" format="png" />
                <when input="output_format" value="html" format="html" />
            </change_format>
        </data>
    </outputs>
    <tests>
        <!-- Hint: You can use [ctrl+alt+t] after defining the inputs/outputs to auto-scaffold some basic test cases. -->
    </tests>
    <help><![CDATA[

.. class:: infomark

**What it does**

TODO: Fill in help in reStructuredText format (https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html)

Usage
.....


**Input**


**Output**


    ]]></help>
    <citations>
        <citation type="doi"> </citation>
    </citations>
</tool>